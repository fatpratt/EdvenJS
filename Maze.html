<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Maze</title>
        <script type="text/javascript" src="MazeGlobals.js"></script>
        <script type="text/javascript" src="Trig.js"></script>
        <script type="text/javascript" src="Dest.js"></script>
        <script type="text/javascript" src="Trap.js"></script>
        <script type="text/javascript" src="GeneralConfig.js"></script>
        <script type="text/javascript" src="OpeningCredits.js"></script>
        <script type="text/javascript" src="MazeConfig.js"></script>
        <script type="text/javascript" src="TextAreaBox.js"></script>
        <script type="text/javascript" src="MathUtils.js"></script>
        <script type="text/javascript" src="ImageCanvas.js"></script>
        <script type="text/javascript" src="IniFile.js"></script>
        <script type="text/javascript" src="KeyboardController.js"></script>
        <script type="text/javascript" src="MapData.js"></script>
        <script type="text/javascript" src="PropData.js"></script>
        <script type="text/javascript" src="MazeGlobals.js"></script>
        <script type="text/javascript" src="Maze.js"></script>
        <script type="text/javascript" src="Overlay.js"></script>
        <script type="text/javascript" src="Landscape.js"></script>
        <script type="text/javascript" src="Background.js"></script>
		<script type="text/javascript" src="WallHitItem.js"></script>
        <script type="text/javascript" src="PropHitItem.js"></script>
        <script type="text/javascript" src="Questions.js"></script>
        <script type="text/javascript" src="Question.js"></script>
        <script type="text/javascript" src="QuestionPosData.js"></script>
        <script type="text/javascript" src="QuestionHitItem.js"></script>
        <script type="text/javascript" src="MazeLoader.js"></script>
        <!--[if IE]><script language="javascript" type="text/javascript" src="excanvas.min.js"></script><![endif]-->

        <script type="text/javascript">
            var intervalId = null;

            function changeMaze() {
                var canvasElements = document.getElementById('targetCanvasDiv');
                while (canvasElements.hasChildNodes()) {
                    canvasElements.removeChild(canvasElements.lastChild);
                }
                if (intervalId != null) window.clearInterval(intervalId);
                intervalId = null;
                var mazeLoader = new MazeLoader();
                mazeLoader.init();
            }
        </script>
    </head>

    <body onload="changeMaze()">
        <section>
            <span>Id: <input id="mazeId" type="text" size="12" value="xtdubx3389"/> <input type="button" value="Change" onclick="javascript:changeMaze();"></span>
            <div id="targetCanvasDiv"></div>
            <div>
                <canvas id="canvas" width="640" height="200">
                    This text is displayed if your browser does not support HTML5 Canvas.
                </canvas>
            </div>


            <script type="text/javascript">

                //--------------------------------------------------------------------------------------------------
                // Add support for those browsers that don't support "forEach" (such as older internet explorer).
                //--------------------------------------------------------------------------------------------------
                (function () {
                    if (!Array.prototype.forEach) {
                        Array.prototype.forEach = function(fun /*, thisp*/) {
                            var len = this.length;
                            if (typeof fun != "function")
                                throw new TypeError();

                            var thisp = arguments[1];
                            for (var i = 0; i < len; i++) {
                                if (i in this)
                                        fun.call(thisp, this[i], i, this);
                            }
                        };
                    }
                }());

                //--------------------------------------------------------------------------------------------------
                // Add "findFirst" support to arrays.
                //--------------------------------------------------------------------------------------------------
                (function () {
                    if (!Array.prototype.findFirst) {
                        Array.prototype.findFirst = function (predicateCallback) {
                            if (typeof predicateCallback !== 'function') {
                                return undefined;
                            }
                            for (var i = 0; i < this.length; i++) {
                                if (i in this && predicateCallback(this[i])) return this[i];
                            }
                            return undefined;
                        };
                    }
                }());

                //--------------------------------------------------------------------------------------------------
                // For those browsers that don't support console.log() define a dummy version to prevent crashes.
                //--------------------------------------------------------------------------------------------------
                (function () {
                    if (typeof console !== "object") {
                        console = {log: function(){}};
                    }
                }());
            </script>

        </section>

    </body>
</html>



